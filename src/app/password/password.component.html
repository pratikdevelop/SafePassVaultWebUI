<div class="relative flex flex-col w-full h-[100vh] p-20 px-48 space-y-12">

  <div class="flex items-center justify-between">
    <h2 class="text-2xl font-bold mb-4">Saved Passwords</h2>
    <div class="flex items-center space-x-4">
      <input
        type="text"
        placeholder="search the password"
        [(ngModel)]="filterValue"
        (change)="filterPasswords()"
        class="shadow appearance-none border rounded w-96 py-3 px-5 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      />
      <button
      mat-flat-button
      color="primary"
        type="button"
        (click)="openPasswordFormDialog(null)"
        >
        Add Password
      </button>
    </div>
  </div>
  @if (passwords.length >0 ) {

  <table
    mat-table
    [bgColor]="'blue'"
    [dataSource]="passwords"
    [trackBy]="trackById"
    class="bg-zinc-900 text-white border-2 shadow-md p-3"
  >
    <!--- Note that these columns can be defined in any order.
                The actual rendered columns are set as a property on the row definition" -->

    <!-- _id Column -->
    <ng-container matColumnDef="_id">
      <th mat-header-cell *matHeaderCellDef>Id.</th>
      <td mat-cell *matCellDef="let element">{{ element._id }}</td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="website">
      <th mat-header-cell *matHeaderCellDef>website</th>
      <td mat-cell *matCellDef="let element">{{ element.website }}</td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="username">
      <th mat-header-cell *matHeaderCellDef>username</th>
      <td mat-cell *matCellDef="let element">{{ element.username }}</td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="password">
      <th mat-header-cell *matHeaderCellDef>password</th>
      <td mat-cell *matCellDef="let element">{{ element.password }}</td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef>Action</th>
      <td mat-cell *matCellDef="let element" class="space-x-4">
        <button
          mat-flat-button
          (click)="autofill(element._id)"
          color="accent"
        >
          Autofill
        </button>
        <button mat-flat-button color="tertiary" (click)="openPasswordFormDialog(element)">
          edit
        </button>
        <button mat-flat-button (click)="delete(element._id)" color="warn">
          delete
        </button>
        <button
        mat-flat-button
        color="tertiary"
        (click)="sharePassword(element._id)"
        aria-label="Example icon-button with share icon"
      >
      share
      </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  } @else {
  <span class="text-center font-bold text04xl"> data not found </span>
  }
</div>
